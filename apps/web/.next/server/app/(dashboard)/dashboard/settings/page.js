(()=>{var e={};e.id=748,e.ids=[748],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7842:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>d,routeModule:()=>u,tree:()=>o}),t(7469),t(3768),t(1819),t(863);var r=t(7341),a=t(5085),l=t(1918),i=t.n(l),n=t(192),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let o=["",{children:["(dashboard)",{children:["dashboard",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7469)),"/home/user/brickie/apps/web/app/(dashboard)/dashboard/settings/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,3768)),"/home/user/brickie/apps/web/app/(dashboard)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,1819,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,863)),"/home/user/brickie/apps/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,1819,23)),"next/dist/client/components/not-found-error"]}],d=["/home/user/brickie/apps/web/app/(dashboard)/dashboard/settings/page.tsx"],x="/(dashboard)/dashboard/settings/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(dashboard)/dashboard/settings/page",pathname:"/dashboard/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},794:(e,s,t)=>{Promise.resolve().then(t.bind(t,1917))},4872:(e,s,t)=>{Promise.resolve().then(t.bind(t,4900))},1917:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var r=t(2075),a=t(4334),l=t(6018),i=t(7390),n=t(4534),c=t(1398),o=t(1101);function d(){let{user:e,profile:s,setProfile:t}=(0,c.o)(),[d,x]=(0,a.useState)(""),[m,u]=(0,a.useState)(""),[h,b]=(0,a.useState)(""),[p,f]=(0,a.useState)(!1),[g,j]=(0,a.useState)(!1),w=async()=>{if(e){f(!0),j(!1);try{let s=(0,n.e)(),r=await (0,o.ck)(s,e.id,{company_name:d||null,day_rate:parseFloat(m)||220,disclaimer_text:h||null});r&&(t(r),j(!0),setTimeout(()=>j(!1),3e3))}catch(e){console.error("Failed to save settings:",e)}finally{f(!1)}}};return(0,r.jsxs)("div",{className:"max-w-2xl mx-auto",children:[r.jsx("h1",{className:"text-2xl font-bold text-warm-900 mb-6",children:"Settings"}),(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx(i.Zb,{title:"Account",children:(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-warm-600",children:"Email"}),r.jsx("p",{className:"font-medium text-warm-900",children:e?.email})]})}),(0,r.jsxs)(i.Zb,{title:"Company Information",children:[r.jsx(i.II,{label:"Company Name",placeholder:"Your Company Ltd",value:d,onChange:e=>x(e.target.value)}),r.jsx(i.II,{label:"Default Day Rate",type:"number",placeholder:"220",value:m,onChange:e=>u(e.target.value),suffix:"GBP/day"})]}),r.jsx(i.Zb,{title:"PDF Quote Settings",children:r.jsx(i.gx,{label:"Disclaimer Text",placeholder:"Enter disclaimer text for PDF quotes...",value:h,onChange:e=>b(e.target.value),rows:4})}),(0,r.jsxs)(i.zx,{onClick:w,loading:p,fullWidth:!0,size:"lg",children:[r.jsx(l.Z,{className:"w-5 h-5 mr-2"}),g?"Saved!":"Save Settings"]}),r.jsx("p",{className:"text-xs text-warm-500 text-center",children:"Your settings are stored securely and used to personalize your estimates and PDF quotes."})]})]})}},4900:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>b});var r=t(2075),a=t(8950),l=t.n(a);t(4334);var i=t(3076),n=t(643),c=t(6762),o=t(7623),d=t(9320),x=t(4750),m=t(9216),u=t(4534),h=t(1398);function b({children:e}){let s=(0,i.useRouter)(),t=(0,i.usePathname)(),{user:a,setUser:b,setProfile:p,isLoading:f,setLoading:g}=(0,h.o)(),j=async()=>{let e=(0,u.e)();await e.auth.signOut(),b(null),p(null),s.push("/login")};if(f)return r.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-brick-500 to-brick-600 rounded-2xl flex items-center justify-center shadow-lg shadow-brick-500/25 animate-pulse",children:r.jsx("span",{className:"text-2xl",children:"\uD83E\uDDF1"})}),r.jsx("div",{className:"w-6 h-6 border-2 border-brick-500 border-t-transparent rounded-full animate-spin"})]})});let w=[{href:"/dashboard/jobs",icon:c.Z,label:"Jobs"},{href:"/dashboard",icon:o.Z,label:"New",isMain:!0},{href:"/dashboard/settings",icon:d.Z,label:"Settings"}],v=t.includes("/result")||t.includes("/jobs/");return(0,r.jsxs)("div",{className:"jsx-9b680f35168c8c7 min-h-screen bg-slate-50 flex flex-col",children:[r.jsx("main",{className:`jsx-9b680f35168c8c7 flex-1 ${v?"":"pb-20 sm:pb-0"}`,children:e}),!v&&r.jsx("nav",{className:"jsx-9b680f35168c8c7 fixed bottom-0 left-0 right-0 sm:hidden bg-white/90 backdrop-blur-lg border-t border-slate-200 safe-bottom z-40",children:r.jsx("div",{className:"jsx-9b680f35168c8c7 flex items-center justify-around py-2",children:w.map(e=>{let s=t===e.href;return e.isMain?(0,r.jsxs)(n.default,{href:e.href,className:"flex flex-col items-center -mt-6",children:[r.jsx("div",{className:"jsx-9b680f35168c8c7 w-14 h-14 bg-gradient-to-br from-brick-500 to-brick-600 rounded-2xl flex items-center justify-center shadow-lg shadow-brick-500/30",children:r.jsx(e.icon,{className:"w-7 h-7 text-white"})}),r.jsx("span",{className:"jsx-9b680f35168c8c7 text-xs font-medium text-slate-600 mt-1",children:e.label})]},e.href):(0,r.jsxs)(n.default,{href:e.href,className:"flex flex-col items-center py-2 px-4",children:[r.jsx(e.icon,{className:`w-6 h-6 ${s?"text-brick-600":"text-slate-400"}`}),r.jsx("span",{className:`jsx-9b680f35168c8c7 text-xs mt-1 ${s?"text-brick-600 font-semibold":"text-slate-500"}`,children:e.label})]},e.href)})})}),(0,r.jsxs)("aside",{className:"jsx-9b680f35168c8c7 hidden sm:flex fixed left-0 top-0 bottom-0 w-64 bg-white border-r border-slate-200 flex-col",children:[r.jsx("div",{className:"jsx-9b680f35168c8c7 p-4 border-b border-slate-100",children:(0,r.jsxs)(n.default,{href:"/dashboard",className:"flex items-center gap-3",children:[r.jsx("div",{className:"jsx-9b680f35168c8c7 w-10 h-10 bg-gradient-to-br from-brick-500 to-brick-600 rounded-xl flex items-center justify-center shadow-lg shadow-brick-500/20",children:r.jsx("span",{className:"jsx-9b680f35168c8c7 text-xl",children:"\uD83E\uDDF1"})}),r.jsx("span",{className:"jsx-9b680f35168c8c7 text-xl font-bold bg-gradient-to-r from-slate-800 to-slate-600 bg-clip-text text-transparent",children:"Brickie"})]})}),r.jsx("nav",{className:"jsx-9b680f35168c8c7 flex-1 p-4 space-y-1",children:[{href:"/dashboard",icon:x.Z,label:"New Estimate"},{href:"/dashboard/jobs",icon:c.Z,label:"Saved Jobs"},{href:"/dashboard/settings",icon:d.Z,label:"Settings"}].map(e=>{let s=t===e.href;return(0,r.jsxs)(n.default,{href:e.href,className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${s?"bg-brick-50 text-brick-600":"text-slate-600 hover:bg-slate-50"}`,children:[r.jsx(e.icon,{className:"w-5 h-5"}),r.jsx("span",{className:"jsx-9b680f35168c8c7 font-medium",children:e.label})]},e.href)})}),(0,r.jsxs)("div",{className:"jsx-9b680f35168c8c7 p-4 border-t border-slate-100",children:[r.jsx("div",{className:"jsx-9b680f35168c8c7 mb-3 px-4",children:r.jsx("p",{className:"jsx-9b680f35168c8c7 text-sm text-slate-500 truncate",children:a?.email})}),(0,r.jsxs)("button",{onClick:j,className:"jsx-9b680f35168c8c7 flex items-center gap-3 px-4 py-3 w-full rounded-xl text-slate-600 hover:bg-slate-50 transition-all",children:[r.jsx(m.Z,{className:"w-5 h-5"}),r.jsx("span",{className:"jsx-9b680f35168c8c7 font-medium",children:"Log Out"})]})]})]}),r.jsx(l(),{id:"9b680f35168c8c7",children:"@media(min-width:640px){main{margin-left:16rem}}"})]})}},1398:(e,s,t)=>{"use strict";t.d(s,{o:()=>r});let r=(0,t(1666).U)((e,s)=>({user:null,profile:null,isLoading:!0,photoFile:null,photoPreview:null,jobType:"Brickwork",anchorType:"length",anchorValue:"",difficulty:"Standard",hasOpenings:!1,currentResult:null,isEstimating:!1,error:null,jobs:[],pricingMethod:"day_rate",dayRate:"220",ratePer1000:"500",ratePerM2:"65",materialMarkup:"10",includeVAT:!1,setUser:s=>e({user:s}),setProfile:s=>{s?e({profile:s,dayRate:s.day_rate?.toString()||"220",pricingMethod:s.default_pricing_method||"day_rate",materialMarkup:s.material_markup?.toString()||"10",includeVAT:s.vat_registered||!1}):e({profile:s})},setLoading:s=>e({isLoading:s}),setPhotoFile:s=>e({photoFile:s}),setPhotoPreview:s=>e({photoPreview:s}),setJobType:s=>e({jobType:s}),setAnchorType:s=>e({anchorType:s}),setAnchorValue:s=>e({anchorValue:s}),setDifficulty:s=>e({difficulty:s}),setHasOpenings:s=>e({hasOpenings:s}),setPricingMethod:s=>e({pricingMethod:s}),setDayRate:s=>e({dayRate:s}),setRatePer1000:s=>e({ratePer1000:s}),setRatePerM2:s=>e({ratePerM2:s}),setMaterialMarkup:s=>e({materialMarkup:s}),setIncludeVAT:s=>e({includeVAT:s}),setCurrentResult:s=>e({currentResult:s}),setEstimating:s=>e({isEstimating:s}),setError:s=>e({error:s}),resetEstimate:()=>e({photoFile:null,photoPreview:null,jobType:"Brickwork",anchorType:"length",anchorValue:"",difficulty:"Standard",hasOpenings:!1,currentResult:null,error:null}),setJobs:s=>e({jobs:s}),addJob:s=>e(e=>({jobs:[s,...e.jobs]})),removeJob:s=>e(e=>({jobs:e.jobs.filter(e=>e.id!==s)})),getInputs:()=>{let{jobType:e,anchorType:t,anchorValue:r,difficulty:a,hasOpenings:l}=s();if(!r)return null;let i=parseFloat(r);return isNaN(i)||i<=0?null:{jobType:e,anchorType:t,anchorValue:i,difficulty:a,hasOpenings:l,pricing:s().getPricingInputs()}},getPricingInputs:()=>{let{pricingMethod:e,dayRate:t,ratePer1000:r,ratePerM2:a,materialMarkup:l,includeVAT:i}=s();return{method:e,dayRate:parseFloat(t)||220,ratePer1000:parseFloat(r)||500,ratePerM2:parseFloat(a)||65,materialMarkup:parseFloat(l)||10,includeVAT:i,vatRate:20}}}))},6018:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(6707).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},7390:(e,s,t)=>{"use strict";t.d(s,{zx:()=>r.Button,Zb:()=>a.Card,II:()=>l.Input,wY:()=>i.PageLoader,gx:()=>l.Textarea});var r=t(3319),a=t(8318),l=t(146),i=t(129);t(4943)},3319:(e,s,t)=>{"use strict";t.d(s,{Button:()=>l});var r=t(2075);t(4334);var a=t(9737);function l({children:e,variant:s="primary",size:t="md",loading:l=!1,fullWidth:n=!1,disabled:c,icon:o,className:d,...x}){let m=c||l;return r.jsx("button",{className:(0,a.W)("inline-flex items-center justify-center font-semibold transition-all duration-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",{"bg-brick-500 text-white hover:bg-brick-600 focus:ring-brick-500":"primary"===s,"bg-warm-200 text-warm-800 hover:bg-warm-300 focus:ring-warm-400":"secondary"===s,"border-2 border-brick-500 text-brick-500 hover:bg-brick-50 focus:ring-brick-500":"outline"===s,"text-brick-500 hover:bg-brick-50 focus:ring-brick-500":"ghost"===s},{"px-3 py-1.5 text-sm min-h-[32px]":"sm"===t,"px-5 py-2.5 text-base min-h-[44px]":"md"===t,"px-6 py-3.5 text-lg min-h-[52px]":"lg"===t},{"w-full":n,"opacity-50 cursor-not-allowed":m},d),disabled:m,...x,children:l?r.jsx(i,{className:"primary"===s?"text-white":"text-brick-500"}):(0,r.jsxs)(r.Fragment,{children:[o&&r.jsx("span",{className:"mr-2",children:o}),e]})})}function i({className:e}){return(0,r.jsxs)("svg",{className:(0,a.W)("animate-spin h-5 w-5",e),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}},8318:(e,s,t)=>{"use strict";t.d(s,{Card:()=>l});var r=t(2075);t(4334);var a=t(9737);function l({children:e,title:s,className:t,padding:l="md"}){return(0,r.jsxs)("div",{className:(0,a.W)("bg-white rounded-2xl shadow-sm",{"p-0":"none"===l,"p-3":"sm"===l,"p-4":"md"===l,"p-6":"lg"===l},t),children:[s&&r.jsx("h3",{className:"text-base font-semibold text-warm-800 mb-3",children:s}),e]})}},4943:(e,s,t)=>{"use strict";t.d(s,{Header:()=>l,Logo:()=>i});var r=t(2075);t(4334);var a=t(9737);function l({title:e,subtitle:s,leftContent:t,rightContent:l,className:i}){return r.jsx("header",{className:(0,a.W)("bg-warm-200 border-b border-warm-300 px-4 py-3",i),children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[t,e&&(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-lg font-semibold text-warm-900",children:e}),s&&r.jsx("p",{className:"text-sm text-warm-600",children:s})]})]}),l&&r.jsx("div",{children:l})]})})}function i({size:e="md"}){return r.jsx("div",{className:(0,a.W)("bg-brick-500 rounded-xl flex items-center justify-center text-white font-bold shadow-lg",{sm:"w-8 h-8 text-lg",md:"w-10 h-10 text-xl",lg:"w-14 h-14 text-2xl"}[e]),children:"B"})}},146:(e,s,t)=>{"use strict";t.d(s,{Input:()=>l,Textarea:()=>i});var r=t(2075);t(4334);var a=t(9737);function l({label:e,error:s,suffix:t,containerClassName:l,className:i,...n}){return(0,r.jsxs)("div",{className:(0,a.W)("mb-4",l),children:[e&&r.jsx("label",{className:"block text-sm font-medium text-warm-800 mb-2",children:e}),(0,r.jsxs)("div",{className:(0,a.W)("flex items-center bg-warm-100 rounded-xl border-2 transition-colors",s?"border-red-500":"border-warm-300 focus-within:border-brick-500"),children:[r.jsx("input",{className:(0,a.W)("flex-1 bg-transparent px-4 py-3 text-warm-900 placeholder-warm-500 outline-none",i),...n}),t&&r.jsx("span",{className:"pr-4 text-sm text-warm-600",children:t})]}),s&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:s})]})}function i({label:e,error:s,containerClassName:t,className:l,...i}){return(0,r.jsxs)("div",{className:(0,a.W)("mb-4",t),children:[e&&r.jsx("label",{className:"block text-sm font-medium text-warm-800 mb-2",children:e}),r.jsx("textarea",{className:(0,a.W)("w-full bg-warm-100 rounded-xl border-2 px-4 py-3 text-warm-900 placeholder-warm-500 outline-none transition-colors resize-none",s?"border-red-500":"border-warm-300 focus:border-brick-500",l),...i}),s&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:s})]})}},129:(e,s,t)=>{"use strict";t.d(s,{EstimateLoadingSkeleton:()=>c,Loader:()=>l,PageLoader:()=>i,SkeletonLoader:()=>n});var r=t(2075);t(4334);var a=t(9737);function l({size:e="md",text:s,className:t}){return(0,r.jsxs)("div",{className:(0,a.W)("flex flex-col items-center justify-center",t),children:[r.jsx("div",{className:(0,a.W)("animate-spin rounded-full border-4 border-warm-300 border-t-brick-500",{sm:"w-5 h-5",md:"w-8 h-8",lg:"w-12 h-12"}[e])}),s&&r.jsx("p",{className:"mt-3 text-sm text-warm-600 animate-pulse",children:s})]})}function i({text:e="Loading..."}){return r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsx(l,{size:"lg",text:e})})}function n({className:e}){return r.jsx("div",{className:(0,a.W)("animate-pulse bg-warm-200 rounded-lg",e)})}function c(){return(0,r.jsxs)("div",{className:"space-y-4 p-4",children:[r.jsx(n,{className:"h-6 w-32"}),r.jsx(n,{className:"h-12 w-full"}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(n,{className:"h-4 w-20"}),r.jsx(n,{className:"h-10 w-full"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(n,{className:"h-4 w-16"}),r.jsx(n,{className:"h-8 w-full"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(n,{className:"h-4 w-16"}),r.jsx(n,{className:"h-8 w-full"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(n,{className:"h-4 w-24"}),r.jsx(n,{className:"h-20 w-full"})]})]})}},7469:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>l,default:()=>n});var r=t(506);let a=(0,r.createProxy)(String.raw`/home/user/brickie/apps/web/app/(dashboard)/dashboard/settings/page.tsx`),{__esModule:l,$$typeof:i}=a;a.default;let n=(0,r.createProxy)(String.raw`/home/user/brickie/apps/web/app/(dashboard)/dashboard/settings/page.tsx#default`)},3768:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>l,default:()=>n});var r=t(506);let a=(0,r.createProxy)(String.raw`/home/user/brickie/apps/web/app/(dashboard)/layout.tsx`),{__esModule:l,$$typeof:i}=a;a.default;let n=(0,r.createProxy)(String.raw`/home/user/brickie/apps/web/app/(dashboard)/layout.tsx#default`)},9737:(e,s,t)=>{"use strict";function r(){for(var e,s,t=0,r="",a=arguments.length;t<a;t++)(e=arguments[t])&&(s=function e(s){var t,r,a="";if("string"==typeof s||"number"==typeof s)a+=s;else if("object"==typeof s){if(Array.isArray(s)){var l=s.length;for(t=0;t<l;t++)s[t]&&(r=e(s[t]))&&(a&&(a+=" "),a+=r)}else for(r in s)s[r]&&(a&&(a+=" "),a+=r)}return a}(e))&&(r&&(r+=" "),r+=s);return r}t.d(s,{W:()=>r})}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[228,921,181,309,957,63],()=>t(7842));module.exports=r})();