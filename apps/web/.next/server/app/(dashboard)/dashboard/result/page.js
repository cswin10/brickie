(()=>{var e={};e.id=372,e.ids=[372],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},76:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>p,tree:()=>d}),a(7151),a(3768),a(1819),a(863);var t=a(7341),r=a(5085),l=a(1918),i=a.n(l),n=a(192),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);a.d(s,c);let d=["",{children:["(dashboard)",{children:["dashboard",{children:["result",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,7151)),"/home/user/brickie/apps/web/app/(dashboard)/dashboard/result/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,3768)),"/home/user/brickie/apps/web/app/(dashboard)/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,1819,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,863)),"/home/user/brickie/apps/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,1819,23)),"next/dist/client/components/not-found-error"]}],o=["/home/user/brickie/apps/web/app/(dashboard)/dashboard/result/page.tsx"],x="/(dashboard)/dashboard/result/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(dashboard)/dashboard/result/page",pathname:"/dashboard/result",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7112:(e,s,a)=>{Promise.resolve().then(a.bind(a,5080))},5080:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>j});var t=a(2075),r=a(4334),l=a(3076),i=a(4733),n=a(123),c=a(3400),d=a(6100),o=a(6018);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,a(6707).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var m=a(7390),p=a(1398),h=a(4534),u=a(1101),b=a(8962);function j(){let e=(0,l.useRouter)(),[s,a]=(0,r.useState)(!1),[j,y]=(0,r.useState)(!1),[w,f]=(0,r.useState)(!1),{currentResult:N,photoFile:g,photoPreview:v,user:_,profile:k,addJob:P,resetEstimate:M,getInputs:G,getPricingInputs:S}=(0,p.o)(),Z=G(),q=S(),A=(0,r.useMemo)(()=>N&&Z?(0,u.MI)(N,q,Z.jobType):null,[N,q,Z]);if(!N||!Z||!A)return(0,t.jsxs)("div",{className:"max-w-2xl mx-auto text-center py-12",children:[t.jsx("p",{className:"text-warm-600 mb-4",children:"No estimate results available"}),t.jsx(m.zx,{onClick:()=>e.push("/dashboard"),children:"Start New Estimate"})]});let T=async()=>{if(_){a(!0);try{let e=(0,h.e)(),s=null;g&&(s=await (0,u.ZH)(e,_.id,g,g.name));let a=await (0,u.Cq)(e,_.id,Z,N,s);P(a),f(!0)}catch(e){console.error("Failed to save job:",e)}finally{a(!1)}}},R=async()=>{if(k){y(!0);try{await (0,b.b)({id:`temp-${Date.now()}`,timestamp:Date.now(),inputs:Z,outputs:N,photoUri:v||""},{companyName:k.company_name||"",defaultDayRate:k.day_rate||220,defaultPricingMethod:"day_rate",defaultRatePer1000:500,defaultRatePerM2:65,materialMarkup:10,vatRegistered:!1,vatRate:20,currency:"GBP",disclaimerText:k.disclaimer_text||""})}catch(e){console.error("Failed to generate PDF:",e)}finally{y(!1)}}},E={day_rate:`\xa3${q.dayRate}/day`,per_1000_bricks:`\xa3${q.ratePer1000}/1000 bricks`,per_m2:`\xa3${q.ratePerM2}/m\xb2`}[q.method];return(0,t.jsxs)("div",{className:"max-w-2xl mx-auto",children:[t.jsx("h1",{className:"text-2xl font-bold text-warm-900 mb-6",children:"Estimate Results"}),(0,t.jsxs)("div",{className:"space-y-6",children:[v&&t.jsx("img",{src:v,alt:"Job photo",className:"w-full h-48 object-cover rounded-xl"}),(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-warm-900",children:Z.jobType}),(0,t.jsxs)("p",{className:"text-warm-600",children:[Z.anchorType,": ",Z.anchorValue,"m • ",Z.difficulty,Z.hasOpenings?" • Has openings":""]})]}),(0,t.jsxs)("div",{className:"bg-brick-500 rounded-2xl p-6 text-white",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[t.jsx(i.Z,{className:"w-5 h-5 opacity-80"}),t.jsx("span",{className:"text-sm font-medium opacity-80",children:"YOUR QUOTE"})]}),(0,t.jsxs)("div",{className:"space-y-2 mb-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between opacity-90",children:[(0,t.jsxs)("span",{children:["Labour (",E,")"]}),(0,t.jsxs)("span",{children:[(0,u.xG)(A.labourLow)," – ",(0,u.xG)(A.labourHigh)]})]}),(0,t.jsxs)("div",{className:"flex justify-between opacity-90",children:[(0,t.jsxs)("span",{children:["Materials (",q.materialMarkup,"% markup)"]}),(0,t.jsxs)("span",{children:[(0,u.xG)(A.materialsLow)," – ",(0,u.xG)(A.materialsHigh)]})]}),q.includeVAT&&(0,t.jsxs)("div",{className:"flex justify-between opacity-90",children:[t.jsx("span",{children:"VAT (20%)"}),(0,t.jsxs)("span",{children:[(0,u.xG)(A.vatLow)," – ",(0,u.xG)(A.vatHigh)]})]}),t.jsx("div",{className:"border-t border-white/30 pt-2 mt-2"})]}),(0,t.jsxs)("p",{className:"text-3xl font-bold",children:[(0,u.xG)(A.totalLow)," – ",(0,u.xG)(A.totalHigh)]}),q.includeVAT&&t.jsx("p",{className:"text-sm opacity-80 mt-1",children:"inc. VAT"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)(m.Zb,{className:"bg-warm-100",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx(n.Z,{className:"w-4 h-4 text-warm-600"}),t.jsx("span",{className:"text-xs font-medium text-warm-600 uppercase",children:"Labour"})]}),t.jsx("p",{className:"text-lg font-semibold text-warm-900",children:(0,u.yS)(N.labour_hours_range)})]}),(0,t.jsxs)(m.Zb,{className:"bg-warm-100",children:[t.jsx("span",{className:"text-xs font-medium text-warm-600 uppercase",children:"Area"}),(0,t.jsxs)("p",{className:"text-lg font-semibold text-warm-900",children:[N.area_m2.toFixed(1)," m\xb2"]})]})]}),t.jsx(m.Zb,{title:"Materials",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-warm-200",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(c.Z,{className:"w-4 h-4 text-brick-500"}),t.jsx("span",{className:"text-warm-700",children:"Bricks"})]}),t.jsx("span",{className:"font-semibold text-warm-900",children:(0,u.nS)(N.brick_count_range)})]}),(0,t.jsxs)("div",{className:"flex justify-between py-2 border-b border-warm-200",children:[t.jsx("span",{className:"text-warm-700",children:"Sand"}),(0,t.jsxs)("span",{className:"font-semibold text-warm-900",children:[(0,u.nS)(N.materials.sand_kg_range)," kg"]})]}),(0,t.jsxs)("div",{className:"flex justify-between py-2",children:[t.jsx("span",{className:"text-warm-700",children:"Cement"}),(0,t.jsxs)("span",{className:"font-semibold text-warm-900",children:[(0,u.nS)(N.materials.cement_bags_range)," bags"]})]}),N.materials.other?.length>0&&(0,t.jsxs)("div",{className:"pt-2 border-t border-warm-200",children:[t.jsx("p",{className:"text-sm text-warm-600 mb-1",children:"Other:"}),t.jsx("ul",{className:"list-disc list-inside text-sm text-warm-700",children:N.materials.other.map((e,s)=>t.jsx("li",{children:e},s))})]})]})}),N.assumptions?.length>0&&t.jsx(m.Zb,{title:"Assumptions",children:t.jsx("ul",{className:"space-y-2",children:N.assumptions.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start space-x-2",children:[t.jsx("div",{className:"w-1.5 h-1.5 bg-brick-500 rounded-full mt-2"}),t.jsx("span",{className:"text-warm-700",children:e})]},s))})}),N.exclusions?.length>0&&t.jsx(m.Zb,{title:"Exclusions",children:t.jsx("ul",{className:"space-y-2",children:N.exclusions.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start space-x-2",children:[t.jsx("div",{className:"w-1.5 h-1.5 bg-yellow-500 rounded-full mt-2"}),t.jsx("span",{className:"text-warm-700",children:e})]},s))})}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)(m.zx,{variant:"outline",fullWidth:!0,onClick:R,loading:j,children:[t.jsx(d.Z,{className:"w-5 h-5 mr-2"}),"Generate PDF"]}),(0,t.jsxs)(m.zx,{variant:"secondary",fullWidth:!0,onClick:T,loading:s,disabled:w,children:[t.jsx(o.Z,{className:"w-5 h-5 mr-2"}),w?"Saved":"Save Job"]}),(0,t.jsxs)(m.zx,{fullWidth:!0,onClick:()=>{M(),e.push("/dashboard")},children:[t.jsx(x,{className:"w-5 h-5 mr-2"}),"New Estimate"]})]}),t.jsx("p",{className:"text-xs text-warm-500 text-center",children:"This is an estimate only. Actual costs may vary based on site conditions, material prices, and scope changes."})]})]})}},6018:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(6707).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},7151:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>i,__esModule:()=>l,default:()=>n});var t=a(506);let r=(0,t.createProxy)(String.raw`/home/user/brickie/apps/web/app/(dashboard)/dashboard/result/page.tsx`),{__esModule:l,$$typeof:i}=r;r.default;let n=(0,t.createProxy)(String.raw`/home/user/brickie/apps/web/app/(dashboard)/dashboard/result/page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[228,921,25,309,146,756,466],()=>a(76));module.exports=t})();